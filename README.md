# ITMO.JSONParser
В соответствии с задачей поставленной преподавателем и в целях изучения работы компилятора, пишу собственную реализацию парсера для JSON файлов с нуля.


## Содежимое Решения:
### [ITMO.JSON.Test01.MyProjectCheckList](https://github.com/GeorgiyIsaev/ITMO.JSONParser/tree/master/ITMO.JSON.Test01.MyProjectCheckList)
 - Проект с моей структурой данных для подготовки к Json сериализации.


###  [ITMO.JSON.Test02.MyTestJsonCheckList](https://github.com/GeorgiyIsaev/ITMO.JSONParser/tree/master/ITMO.JSON.Test02.MyTestJsonCheckList)
- Проект, в котором я использую стандартный Json сериализатор на структуре данных из своего собственного приложения

###  [ITMO.JSON.Test03.MyParser](https://github.com/GeorgiyIsaev/ITMO.JSONParser/tree/master/ITMO.JSON.Test03.MyParser)
- Проект в котором я реализую свой парсер.  

Задача: 
Реализовать парсер для файлов в формате JSON. Программа должна прочитать любую структуру, сохраненную в JSON и записать её в программу.

Моя реализация:
1) Через наследование от динамического класса создан пользовательский класс Expando, поля в котором формируются динамически. Через метод Add() добавляется название поля в виде строковой переменой и содержимое поля в виде object переменной. 

```cs
            //Пример:
            dynamic obj = new Expando()
            {
                { "clovo", "hello" },
                { "chislo", 42 },
                { "obect", new object() }
            };
            int value = obj.chislo;
            obj.chislo = 22;
            Console.WriteLine(value);
            Console.WriteLine(obj.clovo + " " + obj.chislo);        
            obj.Add("ifelse", true);
            if(obj.ifelse)
                Console.WriteLine("obj.ifelse = " + obj.ifelse); 
```

2) Парсер разбирает строку на список элементов через разделители (",\"") и  ("},{")

3) Каждый элемент разбивается на название поля и его содержимое и записывается в словарь. Если содержимое можно привести к значимым типам, осуществляется их приведение к  (int, double, bool, string).

4) Если парсером встречается повтор наименования поля программ расценивает это как начала нового элемента в списке. Полученный словарь переписывается в динамический объект который помещается в список. Словарь обнуляется и в него записывается информация о новом элементе.

5) Если содержимым поля оказывается пользовательский тип, создается новый словарь, в который записываются название поля и его содержимое. На основе этого словаря формурется динамический объект который помещается как значение в первичный словарь.

6)  Класс MyJsonParser содержить статический метод JsonParser(string namefile) который принимает название файла подлежащего парсингу. Метод возвращает список элемент с типом dynamic.
```cs
            List<dynamic> list = MyJsonParser.JsonParser("test.json");
```


